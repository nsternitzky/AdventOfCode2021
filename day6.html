<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 6</title>
</head>

<body>

    <div class="display">
        <h2>Answer 1</h2>
        <div class="answer1"></div>
        <div class="answer1TimeDisplay"></div>

        <h2>Answer 2</h2>
        <div class="answer2"></div>
        <div class="answer2TimeDisplay"></div>

    </div>

    <script>
        // Setup
        let answer1display = document.getElementsByClassName('answer1')[0];
        let answer2display = document.getElementsByClassName('answer2')[0];
        let answer1TimeDisplay = document.getElementsByClassName('answer1TimeDisplay')[0];
        let answer2TimeDisplay = document.getElementsByClassName('answer2TimeDisplay')[0];

        // Start timer answer 1
        let answer1StartTime = performance.now();

        // ANSWER 1 CODE GOES HERE
        //let input = [3,4,3,1,2];
        let input = [1,3,4,1,1,1,1,1,1,1,1,2,2,1,4,2,4,1,1,1,1,1,5,4,1,1,2,1,1,1,1,4,1,1,1,4,4,1,1,1,1,1,1,1,2,4,1,3,1,1,2,1,2,1,1,4,1,1,1,4,3,1,3,1,5,1,1,3,4,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,5,2,5,5,3,2,1,5,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,5,1,1,1,1,5,1,1,1,1,1,4,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,3,1,2,4,1,5,5,1,1,5,3,4,4,4,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,5,3,1,4,1,1,2,2,1,2,2,5,1,1,1,2,1,1,1,1,3,4,5,1,2,1,1,1,1,1,5,2,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,4,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,5,4,5,1,1,1,1,1,1,1,5,1,1,3,1,1,1,3,1,4,2,1,5,1,3,5,5,2,1,3,1,1,1,1,1,3,1,3,1,1,2,4,3,1,4,2,2,1,1,1,1,1,1,1,5,2,1,1,1,2];

        // let simulateDay = fishList => {
        //     let newFishList = [];
        //     let fishToAdd = 0;
        //     for (fish of fishList) {
        //         if (fish == 0) {
        //             newFishList.push(6);
        //             fishToAdd++;
        //         } else {
        //             newFishList.push(fish - 1);
        //         }
        //     }
        //     for (let i = 0; i < fishToAdd; i++) {
        //         newFishList.push(8);
        //     }
        //     return newFishList;
        // }

        let simulateDay = fishList => {
            let newFish = fishList[0];
            for (let i = 0; i < 8; i++) {
                fishList[i] = fishList[i+1];
            }
            fishList[8] = newFish;
            fishList[6] += newFish;
        }

        let parseInput = input => {
            let fishList = {8: 0, 7: 0, 6: 0, 5: 0, 4: 0, 3: 0, 2: 0, 1: 0, 0: 0};
            for (let item of input) {
                fishList[item]++;
            }
            return fishList;
        }

        let countFish = fishList => {
            let count = 0;
            for (number in fishList) {
                count += fishList[number];
            }
            return count;
        }

        let fishList = parseInput(input);
        for (let i = 0; i < 80; i++) {
            simulateDay(fishList);
        }

        answer1display.innerHTML = `After 80 days, there are ${countFish(fishList)} fish.`;

        // End timer answer 1, display
        let answer1EndTime = performance.now();
        answer1TimeDisplay.innerHTML = `Answer 1 took ${answer1EndTime - answer1StartTime}ms.`


        // Start timer answer 2
        let answer2StartTime = performance.now();

        // ANSWER 2 CODE GOES HERE
        fishList = parseInput(input);
        for (let i = 0; i < 256; i++) {
            simulateDay(fishList);
        }

        answer2display.innerHTML = `After 256 days, there are ${countFish(fishList)} fish.`;

        // End timer answer 2, display
        let answer2EndTime = performance.now();
        answer2TimeDisplay.innerHTML = `Answer 2 took ${answer2EndTime - answer2StartTime}ms.`



    </script>
</body>

</html>